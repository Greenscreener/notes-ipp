# Zkouška

## Metrické prostory

- Definice: Metrický prostor, příklady, $\mathbb E_n$
	- metrický prostor je uspořádaná dvojice $(X,d)$, kde $X$ je množina a $d:X\times X\to\mathbb R$ je funkce, pro níž platí ($\forall x,y,z\in X$)
		- $d(x,y)\geq 0$
		- $d(x,y)=0\iff x=y$
		- $d(x,y)=d(y,x)$
		- $d(x,z)\leq d(x,y)+d(y,z)$ … trojúhelníková nerovnost
	- příklady
		- $(\mathbb R,|x-y|)$
		- $(\mathbb C,|x-y|)$
		- euklidovský prostor $\mathbb E_n$ je metrický prostor $(\mathbb R^n,d)$, kde $d(x,y)=\sqrt{\sum_i(x_i-y_i)^2}$
			- tzn. $d(x,y)=\lVert x-y\rVert$, kde $\lVert u\rVert=\sqrt{\braket{u|u}}$
		- diskrétní prostor $(X,d)$, kde $d(x,y)=1$ pro $x\neq y$
		- prostor funkcí $(F(a,b),d)$
			- $F(a,b)$ … množina všech omezených funkcí na intervalu $\braket{a,b}$
			- $d(f,g)=\sup\Set{|f(x)-g(x)|\mid a\leq x\leq b}$
- Definice: Podprostor metrického prostoru
	- mějme $(X,d)$ metrický prostor a podmnožinu $Y\subseteq X$
	- tato podmnožina tvoří podprostor $(Y,d')$, kde $d'(x,y)=d(x,y)$
- Definice: Spojité zobrazení, konvergence
	- zobrazení $f:(X,d)\to (Y,d')$ je spojité, platí-li $(\forall x,y\in X)(\forall\varepsilon\gt 0)(\exists\delta\gt 0):d(x,y)\lt\delta\implies d'(f(x),f(y))\lt\varepsilon$
		- složení spojitých zobrazení je spojité
	- pro posloupnost $(x_n)_n$ definujeme $\lim_n x_n=x$ takto: $(\forall\varepsilon\gt 0)(\exists n_0):n\geq n_0\implies d(x,x_n)\lt\varepsilon$
		- pokud limita existuje, jde o konvergentní posloupnost
- Věta: Spojitost a konvergence
	- věta: zobrazení $f:(X_1,d_1)\to (X_2,d_2)$ je spojité, právě když pro každou konvergentní posloupnost $(x_n)_n$ v $(X_1,d_1)$ posloupnost $(f(x_n))_n$ konverguje v $(X_2,d_2)$ a platí $\lim_nf(x_n)=f(\lim_nx_n)$
	- důkaz
		- $\implies$
			- mějme $f$ spojitou a konvergentní posloupnost $(x_n)_n$, kde $\lim_n x_n=x$
			- ze spojitosti můžeme pro $\varepsilon\gt 0$ zvolit $\delta\gt0$ tak, aby $d_1(x,y)\lt\delta\implies d_2(f(x),f(y))\lt\varepsilon$
			- podle konvergence existuje $n_0$ takové, že pro $n\geq n_0$ je $d_1(x_n,x)\lt\delta$
			- tedy pro $n\geq n_0$ máme $d_2(f(x_n),f(x))\lt\varepsilon$
			- tudíž $\lim_nf(x_n)=f(\lim_nx_n)$
		- $\impliedby$ obměnou
			- nechť $f$ není spojitá
			- tzn. $(\exists x\in X_1)(\exists\varepsilon_0\gt 0)(\forall\delta\gt 0)(\exists x(\delta)):$ $d_1(x,x(\delta))\lt\delta\land d_2(f(x),f(x(\delta)))\geq\varepsilon_0$
			- položme $x_n=x(\frac1n)$
			- pak $\lim_nx_n=x$, ale $(f(x_n))_n$ nemůže konvergovat k $f(x)$
- Definice: Okolí, otevřené a uzavřené množiny
	- epsilonové okolí … $\Omega(x,\varepsilon)=\set{y\mid d(x,y)\lt\varepsilon}$
	- obecné okolí bodu $U$ bodu $x$ je taková podmnožina, že existuje $\varepsilon\gt0$ takové, že $\Omega(x,\varepsilon)\subseteq U$
		- nadmnožina okolí je okolí
		- průnik dvou okolí je okolí
	- $U\subseteq(X,d)$ je otevřená, je-li okolím každého svého bodu
		- $\emptyset$ a $X$ jsou otevřené
		- sjednocení otevřených množin je otevřené
		- průnik dvou otevřených množin je otevřený
	- $A\subseteq(X,d)$ je uzavřená v $(X,d)$, jestliže každá posloupnost $(x_n)_n\subseteq A$ konvergentní v $X$ má $\lim_n x_n\in A$
	- nejde o dichotomii
	- tvrzení: $A\subseteq (X,d)$ je uzavřená v $(X,d)$, právě když $X\setminus A$ je otevřená
		- když $X\setminus A$ není otevřená (má nějaký „problémový bod“ $x$, jehož libovolně malé epsilonové okolí není celé v $X\setminus A$), tak se dá najít posloupnost v $A$ s limitou v $x\notin A$
		- když $X\setminus A$ je otevřená a kdyby existovala posloupnost v $A$ s limitou v $x\notin A$, tak epsilonové okolí $x$ není v $A$, tedy pro dost velké $n$ se prvky posloupnosti musí dostat mimo $A$, což je spor
- Definice: Uzávěr
	- vzdálenost bodu od množiny
		- $d(x,A)=\inf\set{d(x,a)\mid a\in A}$
	- uzávěr množiny $A$
		- $\overline A=\set{x\mid d(x,A)=0}$
	- uzávěr je množina všech limit konvergentních posloupností v dané množině
	- uzávěr je uzavřená množina (dokonce nejmenší uzavřená množina obsahující původní množinu)
- Věta: Spojitost a vzory otevřených a uzavřených podmnožin
	- věta
		- mějme metrické prostory $(X_1,d_1),(X_2,d_2)$ a zobrazení $f:X_1\to X_2$
		- potom jsou následující tvrzení ekvivalentní
			1. $f$ je spojité
			2. pro každý bod $x\in X_1$ a každé okolí $V$ bodu $f(x)$ existuje okolí $U$ bodu $x$ takové, že $f[U]\subseteq V$
			3. pro každou otevřenou $U$ v $X_2$ je vzor $f^{-1}[U]$ otevřený v $X_1$
			4. pro každou uzavřenou $A$ v $X_2$ je vzor $f^{-1}[A]$ uzavřený v $X_1$
			5. pro každou $A\subseteq X_1$ je $f[\overline A]\subseteq\overline{f[A]}$
	- důkaz
		- $1.\iff2.$
			- definice spojitosti říká, že ke každému okolí $\Omega(f(x),\varepsilon)$ existuje okolí $\Omega(x,\delta)$ takové, že $f[\Omega(x,\delta)]\subseteq\Omega(f(x),\varepsilon)$
			- dále rozšíříme na obecné okolí
		- $2.\implies 3.$
			- máme otevřenou množinu $V$
			- máme $x\in f^{-1}[V]$, tedy $f(x)\in V$, kde $V$ je okolí $f(x)$
			- existuje $U$ okolí $x$ takové, že $f[U]\subseteq V$
			- $U\subseteq f^{-1}f[U]\subseteq f^{-1}[V]$
			- takže $f^{-1}[V]$ je okolí $x$
			- otevřenost plyne z toho, že to platí pro všechny $f(x)\in V$ (respektive $x\in f^{-1}[V]$)
		- $3.\iff 4.$
			- vzorové zobrazení $M\mapsto f^{-1}[M]$ zachovává doplňky podmnožin
		- $4.\implies 5.$
			- $\overline M\subseteq f^{-1}[\overline{f[M]}]$ (vzor uzávěru je uzavřený)
			- $f[\overline M]\subseteq\overline{f[M]}$
		- $5.\implies 2.$
			- použijeme to, že vzor zachovává doplňky
- Definice: Topologické pojmy
	- vzájemně jednoznačné spojité zobrazení $f:(X_1,d_1)\to(X_2,d_2)$ takové, že i inverzní $f^{-1}$ je spojité, se nazývá homeomorfismus a o $X_1,X_2$ mluvíme jako o homeomorfních prostorech
	- vlastnost, pojem nebo definice je topologická, zachovává-li se při homeomorfismech
	- příklady topologických vlastností a pojmů: konvergence, otevřenost a uzavřenost, uzávěr, okolí, spojitost (stejnoměrná nikoliv)
- Definice: Ekvivalentní a silně ekvivalentní metriky; silně ekvivalentní metriky v $\mathbb E_n$
	- $d_1,d_2$ jsou ekvivalentní, pokud je zobrazení $(X,d_1)\to(X,d_2)$ homeomorfismus
	- $d_1,d_2$ jsou silně ekvivalentní, existují-li kladné konstanty $\alpha,\beta$ takové, že $\alpha\cdot d_1(x,y)\leq d_2(x,y)\leq\beta\cdot d_1(x,y)$
	- silně ekvivalentní metriky v $\mathbb E_n$
		- $d(x,y)=\sqrt{\sum_i(x_i-y_i)^2}$
		- $\sigma(x,y)=\max_i{|x_i-y_i|}$
	- důkaz silné ekvivalence $d$ a $\sigma$
		- triviálně $\sigma\leq d$ … stačí vzít největší sčítanec pod odmocninou
		- nahrazením všech sčítanců tím největším získáme $d(x,y)\leq\sqrt n\cdot\sigma(x,y)$
- Definice: Stejnoměrná spojitost
	- zobrazení $f:(X,d)\to(Y,d')$ je stejnoměrně spojité, pokud…
		- $(\forall\varepsilon)(\exists\delta)(\forall x)(\forall y):d(x,y)\lt\delta\implies d'(f(x),f(y))\lt\varepsilon$
	- rozdíl vůči (klasické) spojitosti spočívá v pořadí kvantifikátorů – u spojitosti je to $(\forall x)(\forall y)(\forall\varepsilon)(\exists\delta)$
	- např. $f(x)=x^2$ je spojitá funkce, ale není stejnoměrně spojitá
- Věta: Součiny a projekce
	- pro $(X_i,d_i),\,i=1,\dots,n$ definujme na kartézském součinu $\prod_{i=1}^n X_i$ vzdálenost $d(x,y)=\max_id_i(x_i,y_i)$
	- takto získaný prostor $(\prod_iX_i,d)=\prod_i(X_i,d_i)$ nazýváme součinem prostorů $(X_i,d_i)$
	- věta
		1. $\forall j\in\set{1,\dots,n}$ projekce $p_j:\prod_i(X_i,d_i)\to(X_j,d_j)$, kde $p_j(x)=x_j$, je spojité zobrazení
		2. jsou-li $f_j:(Y,d')\to(X_j,d_j)$ libovolná spojitá zobrazení, potom jednoznačně určené zobrazení $f:(Y,d')\to\prod_i(X_i,d_i)$ splňující $p_j\circ f=f_j$, totiž zobrazení definované předpisem $f(y)=(f_1(y),\dots,f_n(y))$, je spojité
	- důkaz
		1. zjevně $\sigma(x_j,y_j)\leq\sigma((x_1,\dots,x_j,\dots,x_n),(y_1,\dots,y_j,\dots,y_n))$
		2. plyne z použití zde zadefinované metriky $d(x,y)$

## Kompaktní prostory

- Věta: Kompaktní prostor, podprostor, součin
	- definice: metrický prostor $(X,d)$ je kompaktní, obsahuje-li v něm každá posloupnost konvergentní podposloupnost
	- tvrzení: podprostor kompaktního prostoru je kompaktní, právě když je uzavřený
		- mějme posloupnost v uzavřeném podprostoru, tato posloupnost má podposloupnost s limitou v kompaktním prostoru – z uzavřenosti tato limita musí být v podprostoru
		- mějme posloupnost v otevřeném podprostoru, ta má limitu mimo podprostor – každá její podposloupnost má tu stejnou limitu mimo podprostor, tedy daná posloupnost není konvergentní v podprostoru
	- tvrzení: je-li podprostor $Y$ metrického prostoru $(X,d)$ kompaktní, pak je $Y$ uzavřený v $(X,d)$
		- mějme posloupnost v kompaktním podprostoru, která konverguje k $y\in X$, potom každá její podposloupnost konverguje k $y$, tudíž musí být $y\in Y$
	- definice: metrický prostor $(X,d)$ je omezený, jestliže pro nějaké $K$ platí $\forall x,y\in X:d(x,y)\lt K$
	- tvrzení: každý kompaktní prostor je omezený
		- posloupnost $(x_n)_n$, kde $d(x_0,x_n)\gt n$, nemá žádnou omezenou podposloupnost, tedy nemá konvergentní podposloupnost (neboť ta je vždy omezená), což je spor
	- věta: součin konečně mnoha kompaktních prostorů je kompaktní
	- důkaz – stačí pro součin dvou prostorů
		- mějme posloupnost $((x_n,y_n))_n$ v $X\times Y$
		- zvolíme konvergentní podposloupnost $(x_{k_n})_n$ posloupnosti $(x_n)_n$ a konvergentní podposloupnost $(y_{k_{l_n}})_n$ posloupnosti $(y_{k_n})$
		- pak je posloupnost $((x_{k_{l_n}},y_{k_{l_n}}))_n$ zjevně konvergentní podposloupností původní posloupnosti
- Věta: Kompaktní podprostory $\mathbb E_n$
	- věta: podprostor euklidovského prostoru $\mathbb E_n$ je kompaktní, právě když je omezený a uzavřený
	- důkaz
		- již jsme dokázali, že kompaktnost implikuje uzavřenost a omezenost
		- mějme $Y\subseteq\mathbb E_n$ omezený a uzavřený
		- z omezenosti vyplývá, že pro dostatečně velký součin (uzavřených) intervalů $J$ platí $Y\subseteq J\subseteq\mathbb E_n$
			- intervaly jsou kompaktní, jejich součin je taky kompaktní (viz věta výše)
		- $Y$ je uzavřený v $\mathbb E_n$, tedy je uzavřený i v $J$
- Věta: Obraz kompaktního prostoru
	- tvrzení: buď $f:(X,d)\to(Y,d')$ spojité zobrazení a buď $A\subseteq X$ kompaktní, potom je $f[A]$ kompaktní
	- důkaz
		- buď $(y_n)_n$ posloupnost v $f[A]$
		- zvolme $x_n\in A$, aby $y_n=f(x_n)$
		- posloupnost $(x_n)_n$ má konvergentní podposloupnost $(x_{k_n})_n$
		- $(y_{k_n})_n=(f(x_{k_n}))_n$ je konvergentní podposloupnost posloupnosti $(y_n)_n$
- Věta: Maxima a minima spojitých funkcí na kompaktních podmnožinách
	- tvrzení: buď $(X,d)$ kompaktní, potom každá spojitá funkce $f:(X,d)\to\mathbb R$ nabývá maxima i minima
	- důkaz
		- podprostor $Y=f[X]\subseteq\mathbb R$ je kompaktní
		- $Y$ je tedy omezená množina a musí mít supremum $a$ a infimum $b$
		- zřejmě $d(a,Y)=d(b,Y)=0$
		- $Y$ je uzavřená, proto $a,b\in Y$
- Věta: Stejnoměrná spojitost v kompaktním kontextu
	- věta: buď $f:X\to Y$ spojité zobrazení, $X$ kompaktní, potom $f$ je stejnoměrně spojité
	- důkaz – obměnou (zobrazení není stejnoměrně spojité, pak není spojité)
		- uvažujme epsilon takové, že pro každé delta existuje dvojice $x,y$ takové, že jsou si blíž než delta, ale $d(f(x),f(y))\geq\varepsilon$
		- z dvojicí sestavíme posloupnosti $(x_n)_n$ a $(y_n)_n$ – obě mají konvergentní podposloupnosti, ty volíme tak, aby si odpovídaly (jako v důkazu kompaktnosti součinu), mají stejnou limitu
		- limity funkčních hodnot se zjevně nerovnají (to je negace tvrzení ekvivalentnímu spojitosti zobrazení)
	- tvrzení: je-li $(X,d)$ kompaktní a je-li $f:(X,d)\to(Y,d')$ vzájemně jednoznačné spojité zobrazení, je to homeomorfismus
- Věta: Cauchyovské posloupnosti a konvergence
	- definice: posloupnost $(x_n)_n$ v metrickém prostoru $(X,d)$ je Cauchovská, jestliže $(\forall\varepsilon\gt 0)(\exists n_0):m,n\geq n_0\implies d(x_m,x_n)\lt\varepsilon$
	- pozorování: každá konvergentní posloupnost je Cauchyovská
	- tvrzení: má-li Cauchyovská posloupnost konvergentní podposloupnost, potom konverguje (k limitě té posloupnosti)
	- důkaz
		- nechť $(x_n)_n$ je Cauchyovská a nechť $x$ je limita její konvergentní podposloupnosti $(x_{k_n})_n$
		- od nějakého $n_1$ platí $d(x_m,x_n)\lt\varepsilon$
		- od nějakého $n_2$ platí $d(x_{k_n},x)\lt\varepsilon$
		- jako $n_0$ vezmeme to větší z nich, od něj pak platí $d(x_n,x)\leq d(x_n,x_{k_n})+d(x_{k_n},x)\lt 2\varepsilon$
- Definice: Úplný prostor, kompaktnost implikuje úplnost
	- definice: metrický prostor $(X,d)$ je úplný, jestliže v něm každá Cauchyovská posloupnost $(X,d)$ konverguje
	- tvrzení: podprostor úplného prostoru je úplný, právě když je uzavřený
	- tvrzení: každý kompaktní prostor je úplný
		- Cauchyovská posloupnost má z kompaktnosti konvergentní podposloupnost, a tedy konverguje (podle tvrzení výše)
	- věta: součin úplných prostorů je úplný; speciálně, $\mathbb E_n$ je úplný
	- důsledek: podprostor $Y$ euklidovského prostoru $\mathbb E_n$ je úplný, právě když je tam uzavřený

## Reálné funkce více proměnných

- Příklad: Proč se nemůžeme omezit na spojitost v jednotlivých proměnných
	- mějme funkci $f(x,y)=\begin{cases}\frac{(x-y)^2}{x^2+y^2}&\text{pro }(x,y)\neq(0,0)\\ 1&\text{pro }(x,y)=(0,0)\end{cases}$
	- pokud bychom $y$ vzali jako parametr a sledovali spojitost podle $x$, funkce by byla spojitá – podobně pro $x$ jako parametr
	- ale $f(x,x)$ se vždy rovná 0, kdežto $f(0,0)=1$
	- nezajímá nás spojitost v jednotlivých proměnných – to jsou jen některé „procházky“ po hodnotách funkce, nás zajímají všechny takové „cesty“
- Definice: Reálné funkce a jejich definiční obory (vhodné podprostory $\mathbb E_n$)
	- definice: reálná funkce v $n$ proměnných … $f:D\to\mathbb R,\;D\subseteq\mathbb E_n$
	- definiční obory jsou často poměrně složité množiny

## Parciální derivace

- Definice: Parciální derivace a jejich slabost (ani spojitost není implikována)
	- vezměme $\phi_k(t)=f(x_1,\dots,x_{k-1},t,x_{k+1},\dots,x_n)$
	- parciální derivace funkce $f$ podle $x_k$ (v bodě $(x_1,\dots,x_{k-1},t,x_{k+1},\dots,x_n)$) je derivace funkce $\phi_k$ (v bodě $t$)
	- tzn. $\lim_{h\to 0}\frac{f(x_1,\dots,x_{k-1},x_k+h,x_{k+1},\dots,x_n)-f(x_1,\dots,x_n)}{h}$
	- značíme $\frac{\partial f(x_1,\dots,x_n)}{\partial x_k}$ nebo $\frac{\partial f}{\partial x_k}(x_1,\dots,x_n)$
	- když $\frac{\partial f(x_1,\dots,x_n)}{\partial x_k}$ existuje pro všechna $(x_1,\dots,x_n)$ v nějaké oblasti $D$, máme funkci $\frac{\partial f}{\partial x_k}:D\to\mathbb R$
	- parciální derivace tedy může být číslo (hodnota limity výše) nebo tato funkce
	- parciální derivace geometricky odpovídá tečně funkce v daném bodě rovnoběžné s příslušnou osou
	- existence parciálních derivací neimplikuje spojitost (viz protipříklad na spojitost v jednotlivých proměnných)
- Definice: Totální diferenciál, geometrická interpretace (lineární aproximace)
	- *v případě jedné proměnné existence totálního diferenciálu a derivace je totéž*
	- tvrzení ekvivalentní s existencí standardní derivace
		- existuje $\mu$ konvergující k 0 při $h\to 0$ a $A$ takové, že $f(x+h)-f(x)=Ah+|h|\cdot\mu(h)$
	- geometrický pohled: $f(x+h)-f(x)=Ah$ vyjadřuje tečnu ke grafu funkce v bodě $(x,f(x))$
	- aproximační pohled: $|h|\cdot\mu(h)$ je jakási malá chyba při aproximaci funkce $f$ v okolí bodu $x$ jako lineární funkce v $h$
	- parciální derivace vyjadřují směry dvou tečných přímek – my chceme tečnou rovinu (tu dostaneme z totálního diferenciálu)
	- pro $x\in\mathbb E_n$ definujme $\lVert x\rVert=\max_i|x_i|$
	- funkce $f$ má totální diferenciál v bodě $a$, existuje-li funkce $\mu$ spojitá v okolí $U$ bodu $o$ taková, že $\mu(o)=0$, a čísla $A_1,\dots,A_n$, pro která $f(a+h)-f(a)=\sum_{k=1}^nA_kh_k+\lVert h\rVert\mu(h)$
		- pomocí skalárního součinu také $f(a+h)-f(a)=\braket{A|h}+\lVert h\rVert\mu(h)$
	- tvrzení: nechť má funkce $f$ totální diferenciál v bodě $a$, potom je spojitá v $a$ a má všechny parciální derivace v $a$ s hodnotami $\frac{\partial f(a)}{\partial x_k}=A_k$
	- důkaz spojitosti
		- chceme $\lim_{x\to y} f(x)=f(y)$, tedy $\lim_{x\to y} f(x)-f(y)=0$
		- dosadíme do rovnice totálního diferenciálu (a+h … x, a … y)
		- $|f(x)-f(y)|\leq|A(x-y)|+|\mu(x-y)|\cdot\lVert x-y\rVert$
		- limita $|A(x-y)|+|\mu(x-y)|\cdot\lVert x-y\rVert$ pro $x\to y$ je rovna nule
	- důkaz hodnot parciálních derivací
		- z rovnice totálního diferenciálu máme $\frac{f(x_1,\dots,x_{k-1},x_k+h,x_{k+1},\dots,x_n)-f(x_1,\dots,x_n)}{h}=A_k+\frac{\lVert(0,\dots,h,\dots,0)\rVert\cdot\mu((0,\dots,h,\dots,0))}{h}$
		- limita pravé strany je zjevně $A_k$
- Věta: Spojité parciální derivace a totální diferenciál
	- věta: nechť má $f$ spojité parciální derivace v okolí bodu $a$, potom má v bodě $a$ totální diferenciál
	- důkaz
		- položme $h^{(0)}=h,\;h^{(1)}=(0,h_2,\dots,h_n),\;h^{(2)}=(0,0,h_3,\dots,h_n),\;\dots,\;h^{(n)}=o$
		- máme $f(a+h)-f(a)=\sum_{k=1}^n(f(a+h^{(k-1)})-f(a+h^{(k)}))=M$
			- v té sumě se většina členů odečte, proto se to rovná výrazu nalevo
		- podle Lagrangeovy věty (v jedné proměnné) existují $0\leq\theta_k\leq 1$ takové, že $f(a+h^{(k-1)})-f(a+h^{(k)})=\frac{\partial f(a_1,\dots,a_{k-1},a_k+\theta_kh_k,a_{k+1}+h_{k+1},\dots,a_n+h_n)}{\partial x_k}\cdot h_k$
		- tedy $M=\sum\frac{\partial f(a_1,\dots,a_{k-1},a_k+\theta_kh_k,a_{k+1}+h_{k+1},\dots,a_n+h_n)}{\partial x_k}h_k=$
		- $=\sum\frac{\partial f(a)}{\partial x_k}h_k+\sum\left(\frac{\partial f(a_1,\dots,a_{k-1},a_k+\theta_kh_k,a_{k+1}+h_{k+1},\dots,a_n+h_n)}{\partial x_k}-\frac{\partial f(a)}{\partial x_k}\right)h_k=$
		- $=\sum\frac{\partial f(a)}{\partial x_k}h_k+\lVert h\rVert\sum\left(\frac{\partial f(a_1,\dots,a_{k-1},a_k+\theta_kh_k,a_{k+1}+h_{k+1},\dots,a_n+h_n)}{\partial x_k}-\frac{\partial f(a)}{\partial x_k}\right){h_k\over\lVert h\rVert}$
		- položme $\mu(h)=\sum\left(\frac{\partial f(a_1,\dots,a_{k-1},a_k+\theta_kh_k,a_{k+1}+h_{k+1},\dots,a_n+h_n)}{\partial x_k}-\frac{\partial f(a)}{\partial x_k}\right){h_k\over\lVert h\rVert}$
		- jelikož $\left|\frac{h_k}{\lVert h\rVert}\right|\leq 1$ a jelikož jsou funkce $\frac{\partial f}{\partial x_k}$ spojité, $\lim_{h\to o}\mu(h)=0$
	- máme tedy implikace: spojité parciální derivace $\implies$ totální diferenciál $\implies$ parciální derivace
- Příklad: Výpočet parciálních derivací – aritmetická pravidla
	- jsou stejná jako pro obyčejné derivace
	- pravidlo pro skládání se liší (viz věta níže)
	- artimetická pravidla lze odvodit z řetězového
		- odvodíme pravidlo pro násobení
		- $f(u,v)=u\cdot v$
		- potom ${\partial f\over\partial u}=v,\;{\partial f\over\partial v}=u$
		- uvažujme $u=\phi(x),\;v=\psi(x)$
		- pak $(\phi(x)\cdot\psi(x))'={\partial f\over\partial u}\phi'(x)+{\partial f\over\partial v}\psi'(x)=\psi(x)\phi'(x)+\phi(x)\psi'(x)$
- Věta: Složená zobrazení a řetězové pravidlo
	- věta
		- nechť má $f(x)$ totální diferenciál v bodě $a$
		- pro $k=1,\dots,n$
			- nechť mají $g_k(t)$ derivace v bodě $b$
			- nechť je $g_k(b)=a_k$
		- položme $F(t)=f(g(t))=f(g_1(t),\dots,g_n(t))$
		- potom má $F$ derivaci v $b$, totiž $F'(b)=\sum_{k=1}^n\frac{\partial f(a)}{\partial x_k}\cdot g'_k(b)$
	- důkaz
		- $\frac1h(F(b+h)-F(b))=\frac1h(f(g(b+h))-f(g(b)))=$
		- $=\frac1h\biggl(f\Bigl(g(b)+(g(b+h)-g(b))\Bigl)-f(g(b))\biggr)=$
			- do rovnice totálního diferenciálu dosazujeme: x … g(b), h … (g(b+h)-g(b))
		- $=\sum_{k=1}^n A_k\frac{g_k(b+h)-g_k(b)}h+\mu(g(b+h)-g(b))\cdot\max_k\frac{|g_k(b+h)-g_k(b)|}h$
		- ze spojitosti funkcí $g_k$ v $b$ vyplývá $\lim_{h\to 0}\mu(g(b+h)-g(b))=0$
		- z toho, že $g_k$ mají derivace, vyplývá, že $\max_k\dots$ je omezené v dostatečně malém okolí nuly
		- limita posledního sčítance je tedy nula
		- $F'(b)=\lim_{h\to 0}\frac1h(F(b+h)-F(b))=\lim_{h\to0}\sum_{k=1}^nA_k\frac{g_k(b+h)-g_k(b)}h=$
		- $=\sum A_k\lim\frac{g_k(b+h)-g_k(b)}h=\sum\frac{\partial f(a)}{\partial x_k}\cdot g'_k(b)$
			- tady vycházíme z tvrzení o hodnotách parciálních derivací
	- důsledek – řetězové pravidlo
		- nechť má $f(x)$ totální diferenciál v bodě $a$
		- pro $k=1,\dots,n$
			- nechť mají funkce $g_k(t_1,\dots,t_r)$ parciální derivace v $b=(b_1,\dots,b_r)$
			- nechť je $g_k(b)=a_k$
		- potom má funkce $(f\circ g)(t_1,\dots,t_r)=f(g(t))=f(g_1(t),\dots,g_n(t))$ všechny parciální derivace v $b$ a platí $\frac{\partial(f\circ g)(b)}{\partial t_j}=\sum_{k=1}^n\frac{\partial f(a)}{\partial x_k}\cdot\frac{\partial g_k(b)}{\partial t_j}$
- Věta: Lagrangeova formule
	- definice: podmnožina $U\subseteq\mathbb E_n$ je konvexní, jestliže $x,y\in U\implies(\forall t,\,0\leq t\leq 1)\bigl((1-t)x+ty=x+t(y-x)\in U\bigr)$
		- tzn. úsečka mezi libovolnými dvěma body $x,y\in U$ bude celá v $U$
	- Lagrangeova věta v jedné proměnné: nechť $f$ je spojitá na intervalu $[a,b]$ a má na $(a,b)$ derivaci, pak existuje bod $c\in(a,b)$ takový, že platí $f(b)-f(a)=f'(c)(b-a)$
	- Lagrangeova věta ve více proměnných
		- nechť má $f$ spojité parciální derivace v konvexní otevřené množině $U\subseteq\mathbb E_n$
		- potom pro libovolné dva vrcholy $x,y\in D$ existuje $\theta,\,0\leq\theta\leq 1,$ takové, že $f(y)-f(x)=\sum_{j=1}^n\frac{\partial f(x+\theta(y-x))}{\partial x_j}(y_j-x_j)$
		- nebo ekvivalentně $f(y)-f(x)=\nabla f(c)(y-x)$, kde $c=x+\theta(y-x)$
		- alternativní tvar (kde $y=x+h$): $f(x+h)-f(x)=\sum\frac{\partial f(x+\theta h)}{\partial x_j}h_j$
	- důkaz
		- položme
			- $F(t)=f(x+t(y-x))$
			- $g_j(t)=x_j+t(y_j-x_j)$
		- potom $F(t)=(f\circ g)(t)=f(x+t(y-x))$
		- tudíž $F'(t)=\sum_{j=1}^n\frac{\partial f(g(t))}{\partial x_j}g'_j(t)=\sum_{j=1}^n\frac{\partial f(g(t))}{\partial x_j}(y_j-x_j)$
		- podle klasické Lagrangeovy věty $\exists\theta:0\leq\theta\leq 1$ a díky tomu, že $f(x)=F(0)$ a $f(y)=F(1)$, dostáváme $f(y)-f(x)=F(1)-F(0)=F'(\theta)(1-0)=F'(\theta)$
- Definice: Parciální derivace vyšších řádů
	- když derivujeme parciální derivaci (prvního řádu), dostaneme parciální derivaci druhého řádu (apod.)
	- $\frac{\partial^3f(x,y,z)}{\partial x\partial y\partial z}$ a $\frac{\partial^3f(x,y,z)}{\partial x\partial x\partial x}$ jsou parciální derivace třetího řádu
- Věta: Záměnnost u parciálních derivací vyšších řádů
	- tvrzení
		- buď $f(x,y)$ funkce taková, že parciální derivace $\frac{\partial^2f}{\partial x\partial y}$ a $\frac{\partial^2f}{\partial y\partial x}$ jsou definovány a jsou spojité v nějakém okolí bodu $(x,y)$
		- potom máme $\frac{\partial^2f(x,y)}{\partial x\partial y}=\frac{\partial^2f(x,y)}{\partial y\partial x}$
	- důkaz
		- uvažujme funkci $F(h)=\frac{f(x+h,y+h)-f(x,y+h)-f(x+h,y)+f(x,y)}{h^2}$
		- položíme
			- $\varphi_h(y)=f(x+h,y)-f(x,y)$
			- $\psi_h(x)=f(x,y+h)-f(x,y)$
		- pak dostaneme pro $F(h)$ dva výrazy
			- $F(h)=\frac1{h^2}(\varphi_h(y+h)-\varphi_h(y))$
			- $F(h)=\frac1{h^2}(\psi_h(x+h)-\psi_h(x))$
		- $\varphi_h$ má derivaci $\varphi'_h(y)=\frac{\partial f(x+h,y)}{\partial y}-\frac{\partial f(x,y)}{\partial y}$
		- $F(h)={1\over h^2}(\varphi_h(y+h)-\varphi_h(y))=\frac1h \varphi_h'(y+\theta_1h)$
			- podle Lagrangeovy věty (viz alternativní tvar)
		- tedy $F(h)=\frac1h\left(\frac{\partial f(x+h,y+\theta_1h)}{\partial y}-\frac{\partial f(x,y+\theta_1h)}{\partial y}\right)$
		- znova použijeme Lagrangeovu větu a dostaneme $F(h)=\frac\partial{\partial x}\left(\frac{\partial f(x+\theta_2h,y+\theta_1h)}{\partial y}\right)$
			- kde $\theta_1,\theta_2$ jsou mezi 0 a 1
		- podobně z vyjádření $F(h)$ pomocí $\psi_h$ dostaneme $F(h)=\frac\partial{\partial y}\left(\frac{\partial f(x+\theta_4h,y+\theta_3h)}{\partial x}\right)$
		- $\lim_{h\to 0}F(h)=\frac{\partial^2 f(x,y)}{\partial x\partial y}=\frac{\partial^2 f(x,y)}{\partial y\partial x}$
	- iterováním výměn z tohoto tvrzení dostaneme následující důsledek:
		- nechť má funkce $f$ v $n$ proměnných spojité parciální derivace do řáku $k$
		- potom hodnoty těchto derivací záleží jen na tom, kolikrát bylo derivováno v každé z individuálních proměnných $x_1,\dots,x_n$

## Věty o implicitních funkcích

- Příklad: Úloha implicitních funkcí, porozumění problému
	- jsou dány spojité reálné funkce $F_i(x_1,\dots,x_m,y_1,\dots,y_n)$ v $m+n$ proměnných pro $i=1,\dots,n$
	- pokoušíme se řešit soustavu $n$ rovnic $F_i(\dots)=0$ v $n$ neznámých $y_i$
	- parametry $x_i$ se stanou proměnnými, takže očekáváme řešení jako funkce $f_i\equiv y_i(x_1,\dots,x_m)$
	- kde mohou být potíže? uvažujme $x^2+y^2=1$
		- pro $x_0\lt -1$ řešení $F(x_0,y)=0$ vůbec neexistuje
		- abychom mohli mluvit o funkci, potřebujeme „okénko“ kolem řešení $(x_0,y_0)$ vymezující kromě okolí $x_0$ i $y_0$
		- pro $x_0=1$ nelze nalézt okénko, kde by $y$ bylo jednoznačné
	- v případě jedné rovnice $F(x,y)=0$ žádné jiné potíže nenastanou
- Věta: Nejjednodušší případ $F(x, y) = 0$, role $\partial F\over\partial y$
	- věta
		- buď $F(x,y)$ reálná funkce ve 2 proměnných definovaná v nějakém okolí bodu $(x_0,y_0)$
		- nechť má $F$ spojité parciální derivace do řádu $k\geq 1$ a nechť je $F(x_0,y_0)=0$ a $\left|\frac{\partial F(x_0,y_0)}{\partial y}\right|\neq 0$
		- potom existují $\delta\gt 0$ a $\Delta\gt 0$ takové, že ke každému $x\in(x_0-\delta,x_0+\delta)$ existuje právě jedno $y\in (y_0-\Delta,y_0+\Delta)$ splňující $F(x,y)=0$
		- dále, označíme-li toto jediné $y$ jako $y=f(x)$, potom získaná $f:(x_0-\delta,x_0+\delta)\to\mathbb R$ má spojité derivace do řádu $k$
	- důkaz
		- buď třeba $\frac{\partial F(x_0,y_0)}{\partial y}\gt 0$
		- vzhledem ke spojitosti existují $\delta_1,\Delta\gt 0$ taková, že v obdélníku $\braket{x_0-\delta_1,x_0+\delta_1}\times \braket{y_0-\Delta,y_0+\Delta}$ je ${\partial F\over\partial y}(x,y)$ stále kladná
		- tento obdélník je kompaktní, tedy na něm spojité funkce nabývají extrémů a tudíž existují $a,K\gt 0$ taková, že  $\frac{\partial F(x,y)}{\partial y}\gt a$ a $\left|\frac{\partial F(x,y)}{\partial x}\right|\lt K$
		- zvlášť dokážeme existenci funkce $f$ a její vlastnosti
		- existence funkce $f$
			- pro pevné $x\in(x_0-\delta_1,x_0+\delta_1)$ definujme funkci $\varphi_x$ na $y\in (y_0-\Delta,y_0+\Delta)$ předpisem $\varphi_x(y)=F(x,y)$
			- tak jsme dostali funkci jedné proměnné
			- její derivace je kladná
				- protože $\varphi'_x(y)=\frac{\partial F(x,y)}{\partial y}\gt 0$
				- takže $\varphi_x$ na intervalu roste
				- proto $\varphi_{x_0}(y_0-\Delta)\lt \varphi_{x_0}(y_0)\lt\varphi_{x_0}(y_0+\Delta)$
			- z $F(x_0,y_0)$ víme, že $\varphi_{x_0}(y_0)=0$
				- tedy $\varphi_{x_0}(y_0-\Delta)\lt 0\lt\varphi_{x_0}(y_0+\Delta)$
			- funkce dvou proměnných $F$ je spojitá, a tedy pro nějaké $\delta,\;0\lt\delta\leq\delta_1$:
				- $\forall  x\in(x_0-\delta,x_0+\delta):\varphi_x(y_0-\Delta)\lt 0\lt\varphi_x(y_0+\Delta)$
			- funkce $\varphi_x$ roste, tudíž je prostá, takže existuje právě jedno $y\in(y_0-\Delta,y_0+\Delta)$ takové, že $\varphi_x(y)=0$ (tj. $F(x,y)=0$)
			- označme toto $y$ jako $f(x)$
		- vlastnosti funkce $f$
			- $0=F(x+h,f(x+h))-F(x,f(x))=$
				- protože $\forall t:F(t,f(t))=0$
			- $=F(x+h,f(x)+(f(x+h)-f(x)))-F(x,f(x))=$
				- použijeme Lagrangeovu větu pro $h=(h,f(x+h)-f(x))$
			- $=\frac{\partial F}{\partial x}(x+\theta h,f(x)+\theta(f(x+h)-f(x)))\cdot h\;+$
			- $+\;\frac{\partial F}{\partial y}(x+\theta h,f(x)+\theta(f(x+h)-f(x)))\cdot (f(x+h)-f(x))$
			- upravíme na $f(x+h)-f(x)=-h\cdot\frac{\partial F(\dots)\over \partial x}{\partial F(\dots)\over\partial y}$
			- podle odvozených vlastností platí $|f(x+h)-f(x)|\lt|h|\cdot\frac Ka$
				- $f$ je tedy spojitá v bodě $x$
			- dále zjevně $\lim_{h\to 0}\frac{f(x+h)-f(x)}h=-\frac{{\partial F\over \partial x}(x,f(x))}{{\partial F\over\partial y}(x,f(x))}$
			- tudíž $f'(t)=-\frac{{\partial F\over \partial x}(t,f(t))}{{\partial F\over\partial y}(t,f(t))}$
			- tuto formuli můžeme derivovat tak dlouho, jak to existence parciálních derivací na pravé straně dovolí
	- stejnou úvahou se ukáže věta pro funkci v $m+1$ proměnných
- Příklad: Substituční metoda aspoň pro dvě rovnice
	- uvažujme dvojici rovnic ($x$ může být vektor)
		- $F_1(x,y_1,y_2)=0$
		- $F_2(x,y_1,y_2)=0$
	- hledáme dvě řešení v okolí bodu $(x^0,y_1^0,y_2^0)$
	- na druhou rovnici aplikujeme větu o jedné rovnici pro $y_2$, dostaneme $y_2$ jako funkci $\psi(x,y_1)$
	- substitujeme do první rovnice, dostaneme $G(x,y_1)=F_1(x,y_1,\psi(x,y_1))=0$
	- řešení $y_1=f_1(x)$ v nějakém okolí bodu $(x^0,y_1^0)$ může být substituováno do $\psi$ a získáme $y_1=f_2(x)=\psi(x,f_1(x))$
	- co jsme všechno předpokládali
		- spojité parciální derivace funkcí $F_i$
		- ${\partial F_2\over\partial y_2}(x^0,y_1^0,y_2^0)\neq 0$, abychom získali $\psi$
		- ${\partial G\over\partial y_1}(x^0,y_1^0)={\partial F_1\over\partial y_1}+{\partial F_1\over\partial y_2}{\partial \psi\over\partial y_1}\neq 0$
			- to vyplývá z řetízkového pravidla
			- pomocí formule $f'(t)=-\frac{{\partial F\over \partial x}(t,f(t))}{{\partial F\over\partial y}(t,f(t))}$ dostaneme z této rovnice nakonec vzorec pro determinant – konkrétně pro Jacobián, který má být nenulový
			- to stačí – druhý předpoklad vyplývá z nenulovosti Jacobiánu
- Definice: Jacobián a jeho role
	- pro konečnou posloupnost funkcí $F_1(x,y),\dots,F_m(x,y)$ a pro $y=(y_1,\dots,y_m)$ se definuje Jacobiho determinant (Jacobián) $\frac{D(F)}{D(y)}=\det{\left(\frac{\partial F_i}{\partial y_j}\right)}_{i,j=1,\dots,m}$
		- řádky odpovídají funkcím $F_i$, sloupce proměnným $y_j$
	- u implicitních funkcí budeme požadovat nenulovost Jacobiánu
	- geometrický význam: Jacobián určuje, jak vektorová funkce  při transformaci oblasti  na  natahuje nebo stlačuje objemy malých kousků oblasti  okolo v poměru (absolutní hodnoty) Jacobiánu
- Věta: Obecná věta, porozumění tomu, co se děje
	- věta
		- buďte $F_i(x_1,\dots,x_n,y_1,\dots,y_m),\;i=1,\dots,m,$ funkce $n+m$ proměnných se spojitými parciálními derivacemi do řádu $k\geq 1$
		- buď $F(x^0,y^0)=o$ a $\frac{D(F)}{D(y)}(x^0,y^0)\neq 0$
		- potom existují $\delta\gt 0$ a $\Delta\gt 0$ takové, že pro každé $x\in (x^0_1-\delta,x_1^0+\delta)\times\dots\times(x_n^0-\delta,x_n^0+\delta)$ existuje právě jedno $y\in (y_1^0-\Delta,y_1^0+\Delta)\times\dots\times(y_m^0-\Delta,y_m^0+\Delta)$ takové, že $F(x,y)=o$
		- píšeme-li toto $y$ jako vektorovou funkci $f(x)=(f_1(x),\dots,f_m(x))$, mají $f_i$ spojité parciální derivace do řádu $k$
	- důkaz: v podstatě stačí kroky výše – ukázali jsme, jak pomocí substituce přejít od úlohy s $n+1$ rovnicemi k úloze s $n$ rovnicemi a jak se při tom podmínka o Jacobiánu v dimenzi $n+1$ přemění na podmínku o Jakobiánu v dimenzi $n$ (pak už je třeba jenom diskutovat, jak vhodně nahradit rozměry oken, tedy $\delta,\Delta$)
- Věta: Aplikace – lokální extrémy, věta o vázaných extrémech, jak se používá
	- uvažujeme body, v nichž jsou všechny parciální derivace nulové, a body na okraji zkoumané oblasti (ale těch je nekonečně mnoho)
	- když hledáme extrémy funkce $f(x_1,\dots,x_n)$, okraj oblasti vyjádříme podmínkami $g_i(x_1,\dots,x_n)$ pro $i=1,\dots,k$
		- pak hledáme extrémy na množině určené podmínkami – tedy jde o vázané extrémy
	- věta
		- buďte $f,g_1,\dots,g_k$ reálné funkce definované na otevřené množině $D\subseteq\mathbb E_n$
		- nechť mají spojité parciální derivace
		- nechť je hodnost matice $M$ maximální, tedy $k$, v každém bodě oboru $D$
			- kde $M_{ij}=\frac{\partial g_i}{\partial x_j}$ (tedy řádky odpovídají funkcím $g_i$, sloupce proměnným $x_j$)
		- jestliže funkce $f$ nabývá v bodě $a$ lokálního extrému podmíněného vazbami $g_i(x_1,\dots,x_n)=0$ pro $i=1,\dots,k$, pak existují čísla $\lambda_1,\dots,\lambda_k$ taková, že pro každé $i=1,\dots,n$ platí $\frac{\partial f(a)}{\partial x_i}+\sum_{j=1}^k\lambda_j\cdot\frac{\partial g_j(a)}{\partial x_i}=0$
	- důkaz
		- z lineární algebry víme, že matice $M$ má hodnost $\geq k$, právě když aspoň jedna její $k\times k$ podmatice je regulární (má nenulový determinant)
		- $M$ má $k$ řádků a $n$ sloupců, kde $n$ bude typicky (možná vždy?) větší než $k$
		- v matici $M$ máme tedy čtvercovou matici nalevo regulární, tedy její determinant je nenulový
			- pro jednoduchost uvažujeme přečíslování souřadnic, aby to vyšlo hezky na první až $k$-tý sloupec matice
		- soustava rovnic $\forall i:g_i(x)=0$ pro neznámé funkce $x_1,\dots,x_k$, v níž parametry $x_{k+1},\dots,x_n$ budou proměnnými, tedy splňuje předpoklady věty o implicitních funkcích a v okolí bodu $a$ dává funkce $\phi_i(x_{k+1},\dots,x_n)$ se spojitými parciálními derivacemi takové, že $\forall g_i(\phi_1(\tilde x),\dots,\phi_k(\tilde x),\tilde x)=0$, kde $\tilde x=(x_{k+1},\dots,x_n)$
		- tedy lokální extrém funkce $f(x)$ v $a$ podmíněný danými vazbami se mění na lokální extrém (nepodmíněné) funkce $F(\tilde x)=f(\phi_1(\tilde x),\dots,\phi_k(\tilde x), \tilde x)$ v $\tilde a$
		- musí tedy platit ${\partial F\over\partial x_i}(\tilde a)=0$ pro $i=k+1,\dots,n$
		- (1) tj. podle řetízkového pravidla $\sum_{r=1}^k\frac{\partial f(a)}{\partial x_r}\cdot \frac{\partial \phi_r(\tilde a)}{\partial x_i}+\frac{\partial f(a)}{\partial x_i}=0$ pro $i=k+1,\dots,n$
		- (2) po derivaci konstantní $g_i(\phi_1(\tilde x),\dots,\phi_k(\tilde x),\tilde x)=0$ dostaneme pro $j=1,\dots,k:$ $\sum_{r=1}^k\frac{\partial g_j(a)}{\partial x_r}\cdot \frac{\partial \phi_r(\tilde a)}{\partial x_i}+\frac{\partial g_j(a)}{\partial x_i}=0$ pro $i=k+1,\dots,n$
			- poznámka: tenhle krok nenavazuje na ten předchozí
		- užijeme znovu nenulový determinant – následující systém lineárních rovnic má nutně jediné řešení $\lambda_1,\dots,\lambda_k$:
			- $\frac{\partial f(a)}{\partial x_i}+\sum_{j=1}^k\lambda_j\cdot\frac{\partial g_j(a)}{\partial x_i}=0$ pro $i=1,\dots,k$
		- takhle jsme použili pouze prvních $k$ z $n$ rovnic, teď ještě musíme dokázat, že takto určená $\lambda_i$ vyhovují i ostatním $n-k$ rovnicím
			- použijeme (1) a (2), první rovnost je oba kombinuje, navíc (2) sčítá přes všechna $j$
			- uvažujeme $i\gt k$
		- $\frac{\partial f(a)}{\partial x_i}+\sum_{j=1}^k\lambda_j\frac{\partial g_j(a)}{\partial x_i}=-\sum_{r=1}^k\frac{\partial f(a)}{\partial x_r}\cdot \frac{\partial \phi_r(\tilde a)}{\partial x_i}-\sum_{j=1}^k\lambda_j\sum_{r=1}^k\frac{\partial g_j(a)}{\partial x_r}\cdot \frac{\partial \phi_r(\tilde a)}{\partial x_i}=$
		- $=-\sum_{r=1}^k\left(\frac{\partial f(a)}{\partial x_i}+\sum_{j=1}^k\lambda_j\cdot \frac{\partial g_j(a)}{\partial x_i}\right)\frac{\partial \phi_r(\tilde a)}{\partial x_i}=-\sum_{r=1}^n0\cdot\frac{\partial\phi_r(\tilde a)}{\partial x_i}=0$
			- výraz v závorce odpovídá soustavě rovnic (viz výše) – proto je nulový
	- poznámky
		- čísla $\lambda_i$ jsou známa jako Lagrangeovy multiplikátory
		- síla tvrzení je v tom, že zaručuje existenci čísel $\lambda_1,\dots,\lambda_k$ splňujících více než $k$ rovnic
- Věta: Aplikace – regulární zobrazení
	- definice
		- buď $U\subseteq\mathbb E_n$ otevřená a nechť mají funkce $f_i:U\to \mathbb E_n$ (pro $i=1,\dots,n$) spojité parciální derivace
		- řekneme, že výsledné zobrazení $f=(f_1,\dots,f_n):U\to\mathbb E_n$ je regulární, jestliže je Jacobián $\frac{D(f)}{D(x)}(x)\neq 0$ pro všechny body $x\in U$
	- tvrzení: je-li $U\to\mathbb E_n$ regulární, je obraz $f[V]$ každé otevřené podmnožiny $V\subseteq U$ otevřený
	- důkaz
		- vezměme $f(x^0)=y^0$
		- definujme $F:V\times\mathbb E_n\to\mathbb E_n$ předpisem $F_i(x,y)=f_i(x)-y_i$
		- potom je $F(x^0,y^0)=0$ a $\frac{D(F)}{D(x)}\neq 0$
		- tudíž je možné použí větu o implicitních funkcích
		- dostaneme $\delta,\Delta\gt 0$ taková, že pro každé $y:\lVert y-y^0\rVert\lt\delta$ existuje $x:\lVert x-x^0\rVert\lt\Delta$ a $F_i(x,y)=f_i(x)-y_i=0$
		- tzn. máme $f(x)=y$ (pozor, $y_i$ jsou proměnné, $x_j$ hledané funkce)
		- tedy máme $f(x)=y$
		- zároveň $\Omega(y^0,\delta)=\set{y\mid\lVert y-y^0\rVert\lt\delta}\subseteq f[V]$
	- tvrzení
		- buď $f:U\to\mathbb E_n$ regulární
		- potom pro každé $x^0\in U$ existuje otevřené okolí $V$ takové, že restrikce $f|V$ je prosté zobrazení
		- navíc platí, že zobrazení $g:f[V]\to\mathbb E_n$ k $f|V$ inverzní je regulární
	- důkaz
		- vezměme $f(x^0)=y^0$
		- znovu použijeme zobrazení $F$, kde $F_i(x,y)=f_i(x)-y_i$
		- řešíme úlohu $F_i(x,y)=0$ s proměnnými $y_1,\dots,y_n$ a neznámými funkcemi $x_i=g_i(y_1,\dots,y_n)$
		- pro dost malé $\Delta\gt 0$ máme jedno $x=g(y)$ takové, že $F(x,y)=0$ a $\lVert x-x^0\rVert\lt\Delta$
		- toto $g$ má navíc spojité parciální derivace
		- $\partial f\cdot\partial g=\partial(f\circ g)=\partial (id)=\mathbb E$
		- tedy ${D(f)\over D(x)}\cdot{D(g)\over D(y)}=1$
		- $\frac{D(g)}{D(y)}$ proto musí být nenulový
	- důsledek: prosté regulární zobrazení $f:U\to V=f[U]\subseteq\mathbb E_n$ má regulární inverzní zobrazení $g:f[U]\to\mathbb E_n$

## Riemannův integrál v jedné proměnné

- Definice: Opakování, geometrická interpretace, obsahy atd.
	- některým podmnožinám $A\subseteq\mathbb E_n$ umíme přiřadit objem $\text{vol}(A)$, přičemž požadujeme vlastnosti…
		- $\text{vol}(\emptyset)=0$
		- $A\subseteq B\implies\text{vol}(A)\leq\text{vol}(B)$
		- $\text{vol}(A\cup B)=\text{vol}(A)+\text{vol}(B)-\text{vol}(A\cap B)$
		- objem je zachován isometrií
		- objem cihly $\braket{a_1,b_1}\times\dots\times\braket{a_n,b_n}$ v $\mathbb E_n$ je $(\prod_i\braket{a_i,b_i})=(b_1-a_1)\cdot\ldots\cdot(b_n-a_n)$
	- když má nějaká cihla degenerovanou hranu ($a_i=b_i$ pro některé $i$), pak je její objem nulový
	- objem útvarů složených z cihel, jimž se protínají jen povrchy, je stejný, jako by cihly byly disjunktní
- Definice: Rozdělení intervalu
	- rozdělení intervalu $\braket{a,b}$ je posloupnost $P:a=t_0\lt t_1\lt\dots\lt t_{n-1}\lt t_n=b$
	- zjemnění $P$ je rozdělení $P':a=t'_0\lt t'_1\lt\dots\lt t'_{m-1}\lt t'_m=b$ takové, že $\set{t_j\mid j=1,\dots,n-1}\subseteq\set{t'_j\mid j=1,\dots,m-1}$
	- jemnost rozdělení je $\mu(P)=\max_j(t_j-t_{j-1})$
	- rozdělení intervalů je vhodnější než jako posloupnost bodů vnímat rozdělení intervalu na menší intervaly
	- pro omezenou funkci $f:J=\braket{a,b}\to\mathbb R$ a rozdělení $P$ definujeme
		- dolní součet $s(f,P)=\sum_{j=1}^nm_j(t_j-t_{j-1})$
			- kde $m_j=\inf\set{f(x)\mid t_{j-1}\leq x\leq t_j}$
		- horní součet $S(f,P)=\sum_{j=1}^n M_j(t_j-t_{j-1})$
			- kde $M_j=\sup\set{f(x)\mid t_{j-1}\leq x\leq t_j}$
	- když $P'$ zjemňuje $P$, dostáváme $s(f,P)\leq s(f,P')$ a $S(f,P)\geq S(f,P')$
	- pro každá dvě $P_1,P_2$ platí $s(f,P_1)\leq S(f,P_2)$
	- dolní Riemannův integrál: $\underline\int_a^b f(x)dx=\sup\set{s(f,P)\mid P\text{ rozd\v{e}lení}}$
	- horní Riemannův integráL $\overline\int_a^b f(x)dx=\inf\set{S(f,P)\mid P\text{ rozd\v{e}lení}}$
	- je-li $\underline\int_a^b f(x)dx=\overline\int_a^b f(x)dx$, pak společnou hodnotu označujeme $\int_a^b f(x)dx$
		- Riemannův integrál funkce $f$ přes $\braket{a,b}$
- Věta: Existence pro spojité funkce, role stejnoměrné spojitosti
	- tvrzení: Riemannův integrál $\int_a^b f(x)dx$ existuje, právě když pro každé $\varepsilon\gt 0$ existuje rozdělení $P$ takové, že $S(f,P)-s(f,P)\lt\varepsilon$
	- důkaz
		- $\implies$
			- nechť $\int_a^b f(x)dx$ existuje a $\varepsilon\gt 0$
			- potom existují rozdělení $P_1,P_2$ taková, že $S(f,P_1)\lt \int_a^b f(x)dx+\frac\varepsilon2$ a $s(f,P_2)\gt\int_a^b f(x)dx-\frac\varepsilon2$
			- potom pro společné zjemnění $P$ těch dvou platí $S(f,P)-s(f,P)\lt \int_a^b f(x)dx+\frac{\varepsilon}2-\left(\int_a^b f(x)dx - \frac\varepsilon2\right)=\varepsilon$
		- $\impliedby$
			- zvolme $\varepsilon\gt 0$ takové, že $S(f,P)-s(f,P)\lt\varepsilon$
			- potom $\overline\int_a^b f(x)dx\leq S(f,P)\leq s(f,P)+\varepsilon\leq \underline\int_a^b f(x)dx+\varepsilon$
			- $\varepsilon$ je libovolně malé, takže $\overline\int_a^b f(x)dx=\underline\int_a^b f(x)dx$
	- věta: pro každou spojitou $f:\braket{a,b}\to\mathbb R$ Riemannův integrál $\int_a^b f$ existuje
	- důkaz
		- pro $\varepsilon\gt 0$ zvolme $\delta\gt 0$ tak, aby $|x-y|\lt\delta\implies|f(x)-f(y)|\lt\frac{\varepsilon}{b-a}$
		- je-li $\mu(P)\lt\delta$, máme $t_j-t_{j-1}\lt\delta$ pro všechna $j$
		- tedy pro všechna $j:$
			- $M_j-m_j=\sup\set{f(x)\mid t_{j-1}\leq x\leq t_j}-\inf\set{f(x)\mid t_{j-1}\leq x\leq t_j}\leq$
			- $\leq\sup\set{|f(x)-f(y)|\mid t_{j-1}\leq x,y\leq t_j}\leq\frac\varepsilon{b-a}$
		- tudíž $S(f,P)-s(f,P)=\sum (M_j-m_j)(t_j-t_{j-1})\leq\frac\varepsilon{b-a}\sum(t_j-t_{j-1})=$
		- $=\frac{\varepsilon}{b-a}(b-a)=\varepsilon$
	- ve více proměnných uvažujeme kompaktní interval, takže je funkce rovnou stejnoměrně spojitá (což potřebujeme)
- Věta: Základní věta analýzy, Riemannův integrál a primitivní funkce
	- integrální věta o střední hodnotě: buď $f:\braket{a,b}\to\mathbb R$ spojitá, potom existuje $c\in\braket{a,b}$ takové, že $\int_a^b f(x)dx=f(c)(b-a)$
	- důkaz
		- položme $m,M$ jako minimum a maximum z funkčních hodnot na intervalu
		- zjevně $m(b-a)\leq\int_a^bf(x)dx\leq M(b-a)$
		- tedy existuje $K$ takové, že $m\leq K\leq M$ a $\int_a^b f(x)dx=K(b-a)$
		- ze spojitosti $f$ vyplývá, že existuje $c\in\braket{a,b}$ takové, že $K=f(c)$
	- pozorování: pro $a\lt b\lt c:\int_a^b f+\int_b^cf=\int_a^c f$
	- základní věta analýzy
		- buď $f:\braket{a,b}\to\mathbb R$ spojitá
		- pro $x\in\braket{a,b}$ definujme $F(x)=\int_a^x f(t)dt$
		- potom je $F'(x)=f(x)$
	- důkaz
		- uvažujme $h\neq 0$
		- $\frac1h(F(x+h)-F(x))=\frac1h(\int_a^{x+h}f-\int_a^xf)=\frac 1h\int_x^{x+h} f=$
		- $=\frac 1h f(x+\theta h)h=f(x+\theta h)$
			- kde $0\lt\theta\lt 1$
		- ve druhé úpravě jsme použili pozorování, ve třetí integrální větu o střední hodnotě
		- $f$ je spojitá, proto $\lim_{h\to 0}\frac1h(F(x+h)-F(x))=\lim_{h\to 0} f(x+\theta h)=f(x)$
	- důsledek
		- buď $f:\braket{a,b}\to\mathbb R$ spojitá
		- potom má primitivní funkci na $(a,b)$ spojitou na $\braket{a,b}$
		- je-li $G$ primitivní funkce $f$ na $(a,b)$ spjitá na $\braket{a,b}$, potom je $\int_a^bf(t)dt=G(b)-G(a)$

## Riemannův integrál ve více proměnných

- Definice: Až do existence pro spojité funkce zcela analogické s jednou proměnnou
	- *stačí pochopit podrozdělení jako rozklad na systém cihliček*
	- cihla … kompaktní interval v $\mathbb E_n$, vypadá takto: $J=\braket{a_1,b_1}\times\dots\times\braket{a_n,b_n}$
	- rozdělení cihly $J$ je posloupnost, jejímiž prvky jsou rozdělení jednotlivých intervalů
	- tak jsou určeny menší intervaly, těm říkáme cihly rozdělení
	- množina všech cihel rozdělení $\mathcal B(P)$ je soustava tvořící rozklad intervalu $J$ na skoro disjunktní sjednocení
	- pozorování: $\text{vol}(J)=\sum\set{\text{vol}(B)\mid B\in\mathcal B(J)}$
	- diametr intervalu $J$ … $\text{diam}(J)=\max_i(b_i-a_i)$
	- jemnost rozdělení $P$ … $\mu(P)=\max\set{\text{diam}(B)\mid B\in\mathcal B(P)}$
	- zjemnění je pak dodefinováno pomocí zjemnění jednotlivých intervalů v posloupnosti
	- každá dvě rozdělení $P,Q$ $n$-rozměrného kompaktního intervalu $J$ mají společné zjemnění
	- Riemannův integrál funkce přes $J$ značíme $\int_Jf(x)dx$
	- většina vět je stejná jako v jedné proměnné
	- akorát **nemáme** protějšek základní věty analýzy, zejména pak její důsledek, že známe-li primitivní funkci $G$ funkce $f$, můžeme Riemannův integrál funkce $f$ počítat jako $\int_a^b f(t)dt=G(b)-G(a)$
	- místo toho budeme vícerozměrný Riemannův integrál počítat postupnými výpočty po jednotlivých souřadnicích (podle Fubiniovy věty)
- Věta: Fubiniho věta, jak ji používáme
	- věta
		- vezměme součin $J=J'\times J''\subseteq \mathbb E_{m+n}$ intervalů $J'\subseteq\mathbb E_m,\,J''\subseteq\mathbb E_n$
		- nechť $\int_Jf(x,y)dxy$ existuje
		- nechť pro každé $x\in J'$ existuje $\int_{J''}f(x,y)dy$
		- nechť pro každé $y\in J''$ existuje $\int_{J'}f(x,y)dx$
		- potom je $\int_J f(x,y)dxy=\int_{J'}(\int_{J''}f(x,y)dy)dx=\int_{J''}(\int_{J'}f(x,y)dx)dy$
	- důkaz
		- položme $F(x)=\int_{J''}f(x,y)dy$
		- dokážeme, že $\int_{J'}F$ existuje a že $\int_J f=\int_{J'}F$
		- zvolme rozdělení $P$ intervalu $J$ tak, aby $\int f-\varepsilon\leq s(f,P)\leq S(f,P)\leq\int f+\varepsilon$
		- toto $P$ je tvořeno rozděleními $P'$ intervalu $J'$ a $P''$ intervalu $J''$
		- máme $\mathcal B(P)=\set{B'\times B''\mid B'\in\mathcal B(P'),B''\in\mathcal B(P'')}$
		- každá cihla rozdělení $P$ se objeví jako právě jedno $B'\times B''$
		- potom je $F(x)\leq \sum_{B''\in \mathcal B(P'')}\max_{y\in B''} f(x,y)\cdot \text{vol}(B'')$
		- tudíž $S(F,P')\leq$
		- $\leq\sum_{B'\in\mathcal B(P')}\max_{x\in B'}\left(\sum_{B''\in \mathcal B(P'')}\max_{y\in B''} f(x,y)\cdot \text{vol}(B'')\right)\cdot\text{vol}(B')\leq$
		- $\leq\sum_{B'\in\mathcal B(P')}\sum_{B''\in\mathcal B(P'')}\max_{(x,y)\in B'\times B''}f(x,y)\cdot\text{vol}(B'')\cdot \text{vol}(B')\leq$
		- $\leq\sum_{B'\times B''\in\mathcal B(P)}\max_{z\in B'\times B''}f(z)\cdot \text{vol}(B'\times B'')=S(f,P)$
		- takhle jsme dokázali $S(f,P)\geq S(F,P')$
		- podobně lze dojít k $s(f,P)\leq s(F,P')$
		- máme tedy $\int_Jf-\varepsilon\leq s(F,P')\leq \int_{J'}F\leq S(F,P')\leq \int_J f+\varepsilon$
		- proto $\int_{J'}F=\int_Jf$
- Definice: Poznámky o Lebesgueově integrálu
	- *zejména praktická informace, že smíme počítat jako s Riemannovým integrálem plus pravidlo $\int\lim f_n=\lim\int f_n$ pro stejně omezené $f_n$*
	- několik Lebesgueovských pravidel
		1. je-li $J$ $n$-dimenzionální interval a jestliže Riemannův integrál $\int_Jf$ existuje, potom Lebegeův integrál je stejný
		2. jestliže $\int_{D_n}f$ existuje pro $n=1,2,\dots$, potom existuje též $\int_{\cup D_n}f$
		3. jestliže $\int_Df_n$ existuje a posloupnost $(f_n)_n$ je monotonní, potom je $\int_D\lim_nf_n=\lim_n\int_Df_n$
		4. jestliže $\int_Df_n$ existuje a $|f_n|\leq g$ pro nějakou $g$, pro kterou $\int_D g$ existuje a je konečný, potom $\int_D\lim_nf_n=\lim_n\int_Df_n$
		5. buď $U$ okolí bodu $t_0$ a buď $g$ taková, že $\int_Dg$ existuje a $\int_Df(t,x)dx$ existují a $|f(t,x)|\leq g(x)$ pro všechna $t\in U\setminus\set{t_0}$, potom je $\int_Df(t_0,x)dx=\lim_{t\to t_0}\int_D f(t,x)dx$
		6. jestliže pro integrabilní $g$ platí $\left|\frac{\partial f(t,x)}{\partial t}\right|\leq g(x)$ a jestliže v nějakém okolí $U$ bodu $t_0$ všechny symobly v následující formuli dávají smysl, potom $\int_D\frac{\partial f(t_0,-)}{\partial t}={d\over dt}\int_Df(t_0,-)$
	- nejdůležitější pravidlo: $\int\lim f_n=\lim\int f_n$, je-li $|f_n(x)|\leq K$ pro nějaké pevné $K$
		- je speciální případem pravidla (4)
	- princip Lebesgueova integrálu
		- Lebesgueův integrál je založen na spočetných součtech
		- tedy předpokládá, že pro posloupnost disjunktních množin $A_n\subseteq\mathbb E_k$ platí $\text{vol}(\bigcup_{n=1}^\infty A_n)=\sum_{n=1}^\infty\text{vol}(A_n)$
- Příklad: Co se dá udělat s kompaktními obory hodnot které nejsou intervaly
	- Tietzova věta (bez důkazu): buď $Y$ uzavřený podprostor metrického prostoru $(X,d)$, potom každá spojitá funkce $f:Y\to\braket{a,b}$ se dá rozšířit na spojitou $g:X\to\braket{a,b}$
	- pro Lebesgueův integrál platí $\int\lim f_n=\lim\int f_n$, je-li $|f_n(x)|\leq K$ pro nějaké pevné $K$
	- co dělat s kompaktním oborem hodnot, který není cihla
		- mějme kompaktní $D\subseteq\mathbb E_n$
		- $D$ vložíme do cihly $J$
		- $f$ rozšíříme nulovými hodnotami na $J\setminus D$
			- tak dostaneme funkci $g$
		- není jasné, zda má funkce $g$ Riemannův integrál, protože nemusí být spojitá
		- tedy použijeme Tietzovu větu a Lebesgueův integrál
			- definujme $J_n=\set{x\in J\mid d(x,D)\geq\frac1n}$
			- mějme podprostor $D\cup J_n$ uzavřený v $J$
			- na $D\cup J_n$ definujme $g'_n$ jako 0 na $J_n$ a jako $f$ na $D$
			- to je spojitá funkce, podle Tietzeovy věty ji můžeme rozšířit na stejně omezenou $g_n$ na $J$
			- zjevně $\lim g_n=g$
			- tady se nám hodí Lebesgueův integrál
- Příklad: Substituce (jen intuitivně; role Jacobiánu)
	- substituce v jedné proměnné
		- mějme rostoucí funkci $\phi$ definovanou na okolí kompaktního intervalu $\braket{a,b}$
		- podívejme se na jeho obraz $\braket{\phi(a),\phi(b)}$
		- nechť $\phi$ má derivaci $\phi'$
		- buď $f$ spojitá funkce a $F$ její primitivní funkce
		- potom máme pro složenou funkci $G=F\circ\phi:$
			- $G'(x)=F'(\phi(x))\phi'(x)$
		- podle základní věty analýzy:
			- $\int_{\phi(a)}^{\phi(b)}f(x)dx=F(\phi(b))-F(\phi(a))=G(b)-G(a)=\int_a^b f(\phi(x))\phi'(x)dx$
		- tedy výsledné pravidlo vypadá takto: $\int_{\phi(a)}^{\phi(b)}f(x)dx=\int_a^b f(\phi(x))\phi'(x)dx$
		- geometrická interpretace
			- rostoucí funkce $\phi$ popisuje deformaci intervalu $\braket{a,b}$, která natahuje nebo smršťuje malé intervaly $\braket{x,x+h}$ v poměru přibližně $\phi'(x)$
			- integrál funkce $f$ chápeme jako součet objemů tenkých obdélníků o stranách $h$ a $f(x)$
			- sčítaný obdélník v integrálu před deformací $\braket{x,x+h}$ bude odpovídat obdélníku s délkou základny $h\cdot\phi'(x)$
			- násobení $\phi'(x)$ tedy zajišťuje jakousi kompenzaci
	- substituce ve více proměnných
		- buď $U$ otevřené okolí kompaktní množiny $D\subseteq\mathbb E_n$
		- buď $\phi:U\to\mathbb E_n$ regulární zobrazení
		- potom pro (dejme tomu spojitou) funkci $f$ máme $\int_{\phi[D]}f=\int_Df(\phi(x))\left|\frac{D(\phi)}{D(x)}\right|dx$
			- kde $\frac{D(\phi)}{D(x)}$ je Jakobián
		- krychlička $\braket{x_1,x_1+h}\times\dots\times\braket{x_n,x_n+h}$ o objemu $h^n$ bude deformována na rovnoběžnostěn definovaný vektory $\phi(x)+h\cdot\left(\frac{\partial\phi_i(x)}{\partial x_1},\dots,\frac{\partial \phi_i(x)}{\partial x_n}\right)$ (pro $i=1,\dots,n$), jehož objem je $h^n\cdot\left|\frac{D(\phi(x))}{D(x)}\right|$
		- absolutní hodnota Jakobiánu tedy hraje tutéž kompenzační roli jako hodnota $\phi'(x)$ v případě jedné proměnné
